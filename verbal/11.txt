Вопрос: Что выведет данная программа и почему?


func main() {
  wg := sync.WaitGroup{}
  for i := 0; i < 5; i++ {
     wg.Add(1)
     go func(wg sync.WaitGroup, i int) {
        fmt.Println(i)
        wg.Done()
     }(wg, i)
  }
  wg.Wait()
  fmt.Println("exit")
}

Верным ответом было бы undefined behavior, так как мы передаем в анонимную 
функцию копию WaitGroup чего делать не стоит, так как WaitGroup содержит внутри
себя счетчик, который должен быть общим для всех горутин. И если программу 
запустить,то мы увидим беспорядочный вывод чисел от 0 до 4 и затем, скорее 
всего, сообщение о том что программа встала в deadlock, так как счетчик будет
равен 5 и ни одна горутина не сможет его уменьшить
